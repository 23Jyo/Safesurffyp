{% extends "base.html" %}

{% block content %}
<div class="results-container">
    <h2>Search Results for "{{ query }}"</h2>
    <ul class="results-list">
        {% for result in results %}
        <li class="result-item">
            <a href="{{ url_for('check_url', link=result.url.split('/url?q=')[1].split('&')[0] if '/url?q=' in result.url else result.url) }}" 
               class="result-url">
                {{ result.url.split('/url?q=')[1].split('&')[0] if '/url?q=' in result.url else result.url }}
            </a>
            

            
            <p class="result-description">{{ result.description }}</p>
            <p class="result-rating">Rating: 
                {% for i in range(1, result.rating + 1) %}
                    <i class="fas fa-star"></i>
                {% endfor %}
                {% for i in range(result.rating + 1, 6) %}
                    <i class="far fa-star"></i>
                {% endfor %}
            </p>
        </li>
        {% endfor %}
    </ul>
    <h3>Images</h3>
    <div class="image-container">
        {% for image in images %}
        <img src="{{ image }}" alt="Search Result Image" class="search-image">
        {% endfor %}
    </div>
    
    <a href="/" class="back-link">Back to Home</a>
</div>
{% endblock %}
